<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.spring.nong4.board.BoardMapper">
    <insert id="freeBoard">
        INSERT INTO
            t_board
            (title
            ,ctnt
            ,iuser)
        VALUES
            (#{title}
            ,#{ctnt}
            ,#{iuser});
    </insert>

    <select id="freeBoardList" resultType="BoardEntity">
    SELECT B.nick AS userNick
         , A.title
         , A.ctnt
         , A.regdt
         , A.iboard
    FROM t_board A
    INNER JOIN t_user B
    ON A.iuser = B.iuser;
    </select>

    <insert id="friendWrite">
        INSERT INTO
            t_board
        (title
        ,ctnt
        ,iuser
        ,provider)
        VALUES
        (#{title}
        ,#{ctnt}
        ,#{iuser}
        ,#{provider});
    </insert>

    <select id="friendList" resultType="BoardDomain">
        SELECT A.iboard
             , A.title
             , A.ctnt
             , B.nick AS userNick
             , B.regdt
             , A.provider
        FROM t_board A
        INNER JOIN t_user B
        ON A.iuser = B.iuser;
    </select>
</mapper>
